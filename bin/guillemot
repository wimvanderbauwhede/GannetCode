#!/usr/bin/perl -w
use strict;
use Getopt::Std;

my $gannet_dir = $ENV{GANNET_DIR};

my %opts;
getopts( 'hY:', \%opts );

if ( $opts{'h'} or (not scalar %opts and not @ARGV)) {
	die "
    Wrapper around gannetc compiler. Scans the .td file
	for SystemConfiguration YAML file
    $0 [opts] 
    -Y YAML-file.yml: SBA config file to use
    \n";
}

@ARGV or die "Usage: $0 [-h] [-Y yml-file] task description file (.td)\n";
my $tdfile=shift @ARGV;
my $verbose= $opts{'v'}?1:0;
my $ymlfile = $opts{'Y'}||"$gannet_dir/SystemConfigurations/SBA.yml";

system("gannetc -Y $ymlfile $tdfile");

